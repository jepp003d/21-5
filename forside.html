<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forside</title>
    <link rel="stylesheet" href="styling.css">
    <link rel="stylesheet" href="https://use.typekit.net/jbb7mxc.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>


</head>
<style>
    {
        height: 100%;
    }

    body,
    html,
    .site-body,
    section {
        height: 100%;
    }

    .splash-section1,
    .splash-section2 {
        padding: 20px;
        overflow: hidden;
        position: relative;
    }

    .splash-section1 blockquote,
    .splash-section2 blockquote {
        font-size: 80px;
        padding-top: 70px;
        text-align: center;
    }

    .splash-section2 {
        height: 15vw;
    }


    .site-body #splash-section1 {
        background: url(img/splash_forside1.jpg) no-repeat fixed;
        background-position: center center;
        background-attachment: scroll;
        color: white;
    }

    .page-wrapper .site-body #section1 .section-text1 {
        position: fixed;
        width: 300px;
        margin: 0 auto;

        padding-top: 100px;
        background: #000000;
    }

    .site-body #section2 {
        background-color: white;
        background-position: center center;
        z-index: 3000;
    }

    .page-wrapper .site-body #section2 .section-text2 {

        width: 300px;
        margin: 0 auto;
        padding-top: 100px;
        background: #000000;
    }
</style>

<body>

    <div class="site-body">
        <section id="splash-section1" class="splash-section1">
            <blockquote class="section-text1">
                TÆNK AT EJE <br> 5 FERIEBOLIGER I UDLANDET

            </blockquote>
        </section>
        <section id="splash-section2" class="splash-section2">
            <blockquote class="section-text2">
                TÆNK AT EJE <br> 5 FERIEBOLIGER I UDLANDET
            </blockquote>

        </section>

    </div>



    <div>
        <section class="forside_sections color2" data-color="white">
        </section>
    </div>
    <template>
        <article>

            <div class="col">
                <h2 class="overskrift1"></h2>
                <p class="text1"></p>
            </div>
            <div class="col">
                <h2 class="overskrift2"></h2>
                <img src="" alt="">
                <p class="text2"></p>

            </div>

        </article>
    </template>

    <script>
        let forsideSections = [];
        const endpoint = "http://keajeppe.dk/kea/09_cms/21-5/wordpress/wordpress/wp-json/wp/v2/forside";
        let skabelon = document.querySelector("template");
        const listeElm = document.querySelector(".forside_sections");
        document.addEventListener("DOMContentLoaded", start);

        function start() {
            hentData();
        }

        async function hentData() {
            const response = await fetch(endpoint);
            console.log(response);
            forsideSections = await response.json();
            visSections();

        }

        function visSections() {
            console.log(forsideSections);
            forsideSections.forEach(elm => {
                const klon = skabelon.cloneNode(true).content;
                klon.querySelector(".overskrift1").innerHTML = elm.overskrift1;
                klon.querySelector(".text1").innerHTML = elm.tekst1;
                klon.querySelector(".overskrift2").innerHTML = elm.overskrift2;
                klon.querySelector("img").src = elm.image.guid;
                klon.querySelector(".text2").innerHTML = elm.tekst2;
                listeElm.appendChild(klon);
            })
        }

        $(window).scroll(function() {
            $("section blockquote").each(function() {
                $(this).css('margin-top', $(window).scrollTop() - $(this).parent().position().top);
                console.log();
            });
        });
    </script>
</body></html>
