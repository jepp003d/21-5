<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link href="https://fonts.googleapis.com/css?family=Bungee+Inline|Erica+One|Monoton|Righteous|Roboto|Roboto+Slab:400,500,600,700,800,900|Teko:300,400,500,600,700&display=swap" rel="stylesheet">

</head>

<body>

    <style>
        h1 {
            font-size: 5rem;
        }

        h3 {
            color: red;
        }

        h4 {
            color: green;
        }

        /*
        img {
        height: 2vw;
        width: 2vw;
        padding-left: 50vw;
        }
*/
    </style>



    <main>

        <h1>21-5</h1>


        <section class="data-container"></section>

        <template>
            <article class="section">
                <h3></h3>
                <p id="id"></p>
                <a></a>
                <h4></h4>
                <p></p>
                <img src="">


            </article>
        </template>





    </main>
    <script>
        const endpointText = "http://keajeppe.dk/kea/09_cms/21-5/wordpress/wordpress/wp-json/wp/v2/tekst";
        const endpointImage = "http://keajeppe.dk/kea/09_cms/21-5/wordpress/wordpress/wp-json/wp/v2/billede";

        let madvarer = [];
        let filter = "alle";
        const detalje = document.querySelector("#detalje");
        const container = document.querySelector(".data-container");
        const sectionTemplate = document.querySelector("template");

        document.addEventListener("DOMContentLoaded", start);





        function start() {
            hentDataText();
            hentDataImage();
            //            addEventListenersToButtons();
        }



        async function hentDataText() {
            const responseText = await fetch(endpointText);

            console.log(responseText);
            sections = await responseText.json();
            visText();
            //            console.log(personer);
        }

        async function hentDataImage() {
            const responseImage = await fetch(endpointImage);

            console.log(responseImage);
            sections = await responseImage.json();
            visImage();
            //            console.log(personer);
        }




        function visText() {
            console.log("visSections");


            container.innerHTML = "";
            sections.forEach(section => {
                //                if (filter == "alle" || filter == section.gsx$kategori.$t) {
                let klon = sectionTemplate.cloneNode(true).content;
                //                klon.querySelector("h3").innerHTML = section.title.rendered;
                klon.querySelector("p").innerHTML = section.content.rendered;
                //                klon.querySelector("img").src = section.family_infografik.guid;
                //                    klon.querySelector("#id").textContent = ID: ${ section.gsx$id.$t};
                //                    klon.querySelector("#kategori").textContent = Kategori: ${ section.gsx$kategori.$t};
                //                    klon.querySelector("#kort").textContent = Beskrivelse: ${ section.gsx$kort.$t};
                //                    klon.querySelector("#pris").textContent = Pris: ${ section.gsx$pris.$t};


                container.appendChild(klon);
                //                }
            })

        }

        function visImage() {
            console.log("visSections");


            container.innerHTML = "";
            sections.forEach(section => {
                //                if (filter == "alle" || filter == section.gsx$kategori.$t) {
                let klon = sectionTemplate.cloneNode(true).content;
                //                klon.querySelector("h3").innerHTML = section.title.rendered;
                //                klon.querySelector("p").innerHTML = section.content.rendered;
                klon.querySelector("img").src = section.family_infografik.guid;
                //                    klon.querySelector("#id").textContent = ID: ${ section.gsx$id.$t};
                //                    klon.querySelector("#kategori").textContent = Kategori: ${ section.gsx$kategori.$t};
                //                    klon.querySelector("#kort").textContent = Beskrivelse: ${ section.gsx$kort.$t};
                //                    klon.querySelector("#pris").textContent = Pris: ${ section.gsx$pris.$t};


                container.appendChild(klon);
                //                }
            })

        }
    </script>
</body></html>
